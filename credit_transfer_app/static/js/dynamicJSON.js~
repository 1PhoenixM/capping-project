function getCourseNumbers(school){
	selectedDept = $('#departments').find(":selected").text();
	$.getJSON( "/api/courseNumbers/" + selectedDept + "/" + school, function( data ) {
	  var courses = [];
	  courses = data.courseNumbers;
	  var coursesDropdown = [];
	  
	  for(var i = 0; i < courses.length; i++){
		coursesDropdown.push('<option>' + courses[i] + '</option>');
	  }
	 
	  if($('#courseSelector').length == 0){
		  $( "<select/>", {
			"id": "courseSelector",
			"style": "display:inline",
			html: coursesDropdown.join( "" )
		  }).appendTo( "#selectors" );
		  $( "<a/>", {
			"id": "plus",
			"onclick": "addNewLine('" + school "')",
			"style": "display:inline",
			html: "+"
		  }).after( "#courseSelector" );
	  }
	  
	  else{
		$('#courseSelector').html(coursesDropdown.join( "" ));
	  }
	  
	});
}

function addNewLine(school){
	$.getJSON( "/api/departments/" + school, function( data ) {
	  var depts  =[];
	  depts = data.departments;
	  var deptDropdown = [];

	  for(var i = 0; i < depts.length; i++){
		deptsDropdown.push('<option>' + depts[i] + '</option>');
	  }

		$( "<select/>", {
			"id": "deptSelector",
			"style": "display:inline",
			html: deptDropdown.join( "" )
		  }).appendTo( "#selectors" );

	        getCourseNumbers(school);

		$( "<a/>", {
			"value": "2",
			"style": "display:inline",
			html: "+"
		  }).appendTo( "#selectors" );

		$( "<br/>", {
		  }).appendTo( "#selectors" );


	});
}
